PART
{
	name = Rocker_BKI
	module = Part
	author = BKI
	MODEL {
		model = Tenacity/Parts/Common/Rocker-Bogie/Rocker-Bogie-Rocker
		texture = Curiosity_Diff, Tenacity/Parts/Common/RoverBody/Curiosity_Diff
	}

	NODE
	{
		name = N1
		transform = N1
		size=0
		method=FIXED_JOINT
		rigid = true
	}
	NODE
	{
		name = N2
		transform = N2
		size=0
		method=FIXED_JOINT
		rigid = true
	}
	rescaleFactor = 0.625
	node_attach = 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, 0
	node_stack_bottom = 0.0, 0.0, 0.0, -1.0, 0.0, 0.0, 0
	stackSymmetry = 3
	TechRequired = fieldScience
	entryCost = 1000
	cost = 300
	category = Robotics
	subcategory = 0
	title = Common Rover Rocker Servo Joint
	manufacturer =  #autoLOC_501649		//#autoLOC_501649 = Kerbal Motion LLC
	description = <#ef7b06>Attach to the side nodes on the Common Rover Body.</color> <color> An ingeniously overcomplicated suspension assembly designed to keep all wheels firmly on the ground, even when the ground itself seems strongly opposed to the idea. By distributing loads through a series of linked arms and pivots, this system allows rovers to crawl over obstacles that would stop lesser designs—or at least flip them over. Wheels not included. Control the rotation with the Common Rover Body. Control the roctation with the Common Rover Body.
	// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,0
	mass = 0.016
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 1
	crashTolerance = 12
	breakingForce = 200
	breakingTorque = 200
	maxTemp = 2000 // = 5000
	bulkheadProfiles = size0
	tags = curiosity perseverance 2020 rover suspension robot actuator rotate servo wheel

	MODULE
	{
		name = ModuleRoboticServoHinge
		servoTransformName = TopJoint
		baseTransformName = BottomJoint
		servoAttachNodes = N1,N2
		servoSrfMeshNames = Rotor, Rotor-look-L, Rotor-look-R
		traverseVelocityLimits = 1, 180
		hardMinMaxLimits = -15, 15
		softMinMaxAngles = -15, 15
		targetAngle = 0
		mainAxis = X
		maxMotorOutput = 50
		driveSpringMutliplier = 100
		driveDampingMutliplier = 20
		motorizedMassPerKN = 0.0002
		motorizedCostPerDriveUnit = 1
		connectedMassScale = 1
		efficiency = 0.75
		baseResourceConsumptionRate = 0.02
		referenceConsumptionVelocity = 180
		// if RESOURCE is used, negative power is simply dumped
		RESOURCE
		{
			name = ElectricCharge
			rate = 1
		}
		// INPUT_RESOURCE is by default equivalent to RESOURCE
		//INPUT_RESOURCE
		//{
		//	name = ElectricCharge
		//	rate = 1
		//}
		//OUTPUT_RESOURCE is required to reclaim energy from negative power
		//OUTPUT_RESOURCE
		//{
		//	name = ElectricCharge
		//	rate = 1
		//}
	}
	MODULE
	{
		name = ModuleCargoPart
		stackableQuantity = 3
		packedVolume = 15
	}
	MODULE
	{
		name = ModuleAdvancedLookAtConstraint
		CONSTRAINLOOKFX
		{
			targetName = Target2
			rotatorsName = Tracker
		}
		CONSTRAINLOOKFX
		{
			targetName = Target
			rotatorsName = Rotor-look-L
		}
		CONSTRAINLOOKFX
		{
			targetName = Target2-A
			rotatorsName = Tracker-A
		}
		CONSTRAINLOOKFX
		{
			targetName = Target-A
			rotatorsName = Rotor-look-R
		}
	}
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = meshSwitch
		switcherDescription = Side
		affectDragCubes = false
		SUBTYPE
		{
			name = Left
			title = Left
			transform = Left_B
			transform = Rotor-look-L
      descriptionSummary = Left Side
      descriptionDetail = Left Side
      primaryColor = #999999
      secondaryColor = #586f53
		}
		SUBTYPE
		{
			name = Right
			title = Right
			transform = Right_B
			transform = Rotor-look-R
      descriptionSummary = Right Side
      descriptionDetail = Right Side
      primaryColor = #586f53
      secondaryColor = #999999
		}
	}
}
